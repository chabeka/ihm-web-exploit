import { Injectable } from '@angular/core'
import { FaceSnaps } from '../models/face-snaps.model';

// enregistrement Ã  la racine de l'application avec providedIn: 'root'
@Injectable({
	providedIn: 'root'
})
export class FaceSnapsService{
	tabFaceSnaps: FaceSnaps[]  = [
        {
        	id: 1,
          title: 'Title', 
          snaps : 390,
          imageUrl : 'https://cdn.pixabay.com/photo/2015/05/31/16/03/teddy-bear-792273_1280.jpg',
          createdDate: new Date(),
          location : 'Grenoble'
        },
        {
        	id:2,
          title: 'Title', 
          snaps : 10,
          imageUrl : 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Three_Rock_Mountain_Southern_Tor.jpg/2880px-Three_Rock_Mountain_Southern_Tor.jpg',
          createdDate: new Date(),
          location : 'Grenoble'
        },
        {
        	id:3,
          title: 'Title', 
          snaps : 10,
          imageUrl : 'https://wtop.com/wp-content/uploads/2020/06/HEALTHYFRESH.jpg',
          createdDate: new Date(),
          location : 'Grenoble'
        }
    ];
    getAllFaceSnaps() : FaceSnaps []{
    	return this.tabFaceSnaps;
    }
    getFaceSanpsById(faceSanpsId:number): FaceSnaps{
    	const faceSnap = this.tabFaceSnaps.find(faceSnap => faceSnap.id === faceSanpsId);
    	if(faceSnap) {
    		return faceSnap;
    	} else {
    		throw new Error('FaceSnap not found');
    	}
    }

    snapFaceSnapsById(faceSnapsId:number, snapType: 'snap' | 'unsnap'): void {
    	const faceSnap = this.getFaceSanpsById(faceSnapsId);
    	snapType === 'snap' ? faceSnap.snaps++ : faceSnap.snaps--;
    }

    

}